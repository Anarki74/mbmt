{% extends "shared/base.html" %}

{% block content %}

<h1>Overview</h1>

<h2>Schools</h2>
<table id="chaperones" class="table">
    <tr><th>School</th><th>Chaperone</th><th>Teams</th><th>Chaperones</th></tr>
    {% for map in coaching %}
    <tr>
        <td>{{ map.school.name|default_if_none:"None selected" }}</td>
        <td>{{ map.coach.get_full_name }}</td>
        <td>
        {% with map.teams as teams %}
        {{ teams|length }} total
        {% for team in teams %}
            <br>{{ team.name }}
        {% endfor %}
        {% endwith %}
        </td>
        <td>
        {% with map.chaperones as chaperones %}
        {{ chaperones|length }} total
        {% for chaperone in chaperones %}
            <br>{{ chaperone.name }}
        {% endfor %}
        {% endwith %}
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
